{
  "hash": "09fc674213ee245700ec76fdf348c11a",
  "result": {
    "engine": "knitr",
    "markdown": "---\ntitle: \"Membuat Statistik Menjadi Dinamis dan Interaktif\"\ndraft: true\ndescription: |\n  Statistik dapat digunakan untuk menyingkap fakta-fakta tentang dunia. Secara khusus, statistik dapat dimanfaatkan untuk melihat angka harapan hidup dan PDB per kapita berbagai negara.\nauthor:\n  - name: Yosep Dwi Kristanto\n    url: https://people.usd.ac.id/~ydkristanto/\n    affiliation: Pendidikan Matematika, Universitas Sanata Dharma, Yogyakarta\n    affiliation-url: https://www.usd.ac.id/s1pmat\n    orcid: 0000-0003-1446-0422\ndate: 2024-08-10\ncategories:\n  - statistik dunia\n  - tutorial\n  - visualisasi data\nimage: \"statistik-interaktif.png\"\nimage-alt: |\n  Hubungan antara PDB per kapita dan angka harapan hidup pada tahun 1992, 1997, 2002, dan 2007\nkeywords: \n  - Gapminder\n  - harapan hidup\n  - produk domestik bruto\n  - PDB\n  - diagram pencar\n  - shiny\ncopyright: \"Â© 2024 Yosep Dwi Kristanto\"\nlicense: \"CC BY\"\ngoogle-scholar: true\neditor_options: \n  chunk_output_type: console\ncode-annotations: select\n---\n\n\nJelajah data itu seringkali kompleks dan menantang. Apalagi yang kita jelajahi adalah data raya. Apakah penjelajahan data tersebut dapat kita buat lebih mudah dan menarik? Artikel blog ini akan mendemonstrasikan bagaimana mengembangkan aplikasi Shiny untuk menjelajah data pada [pos sebelumnya](/pos/2024-08-statistik-jendela-dunia/index.qmd \"Statistik Adalah Jendela Dunia\").\n\nKita berkenalan dengan Shiny terlebih dahulu. Shiny adalah sebuah cara yang memungkinkan kita untuk membuat aplikasi berbasis web dengan bahasa pemrograman R (atau Python). Shiny ini cocok bagi kamu yang baru awal-awal memelajari R atau yang sudah lama dan lihai menggunakan bahasa pemrograman itu.\n\n## Mengapa Perlu Aplikasi Shiny? {#sec-mengapa-shiny}\n\nBayangkan kamu adalah seorang analis data. Kamu sedang menganalisis [data Gapminder](https://github.com/jennybc/gapminder){.external target=\"_blank\"} dengan R. Tujuannya adalah untuk melihat hubungan antara PDB (Pendapatan Domestik Bruto) per kapita dan angka harapan hidup berbagai negara. Pertama, kamu panggil dulu paket yang diperlukan. Paket tersebut adalah [{tidyverse}](https://www.tidyverse.org/){.external target=\"_blank\"}.\n\n\n::: {.cell}\n\n```{.r .cell-code  code-fold=\"false\"}\nlibrary(tidyverse)\n```\n:::\n\n\nSetelah itu, kamu impor data yang tersedia secara daring dengan menggunakan fungsi `load()` dan `url()`. Hasilnya, kamu mendapatkan data dengan nama `gapminder`.\n\n\n::: {.cell}\n\n```{.r .cell-code  code-fold=\"false\"}\nload(url(\"https://github.com/jennybc/gapminder/raw/main/data/gapminder.rdata\"))\n```\n:::\n\n\nData tersebut memiliki variabel enam variabel, yaitu negara (`country`), benua (`continent`), tahun (`tahun`), angka harapan hidup (`lifeExp`), dan PDB per kapita (`gdpPercap`, dalam dolar internasional). Tak ingin berlama-lama, kamu langsung memvisualisasikan hubungan antara PDB per kapita dan angka harapan hidup dengan diagram pencar.\n\n\n::: {.cell}\n\n```{.r .cell-code  code-fold=\"false\"}\ngapminder |> \n  ggplot(aes(x = gdpPercap, y = lifeExp)) + \n  geom_point()\n```\n\n::: {.cell-output-display}\n![Hubungan antara PDB per kapita dan angka harapan hidup berbagai negara](index_files/figure-html/fig-hub-pdb-ahh-1.png){#fig-hub-pdb-ahh width=672}\n:::\n:::\n\n\nHmmm. Dengan baris kode itu, semua titik datanya digambarkan pada @fig-hub-pdb-ahh. Padahal, kamu ingin menggambarkan titik-titik pada tahun tertentu saja. Untuk itu, kamu perlu tahu tahun berapa saja yang tersedia dalam data.\n\n\n::: {.cell}\n\n```{.r .cell-code  code-fold=\"false\"}\nunique(gapminder$year)\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n [1] 1952 1957 1962 1967 1972 1977 1982 1987 1992 1997 2002 2007\n```\n\n\n:::\n:::\n\n\nTahunnya ternyata mulai dari 1952 sampai 2007 dengan interval lima tahun. Selanjutnya, kamu ingin menggambar seperti pada @fig-hub-pdb-ahh tetapi hanya untuk tahun 2007.\n\n\n::: {.cell}\n\n```{.r .cell-code  code-fold=\"false\"}\ngapminder |> \n  filter(year == 2007) |> \n  ggplot(aes(x = gdpPercap, y = lifeExp)) + \n  geom_point()\n```\n\n::: {.cell-output-display}\n![Hubungan antara PDB per kapita dan angka harapan hidup berbagai negara pada tahun 2007](index_files/figure-html/fig-hub-pdb-ahh-2007-1.png){#fig-hub-pdb-ahh-2007 width=672}\n:::\n:::\n\n\nDalam baris kode di atas terdapat perintah `filter(year == 2007)`. Kode tersebut berguna untuk memfilter datanya agar nilai variabel `year`-nya sama dengan 2007.\n\nSekarang kamu ingin memvisualisasikan lagi data tersebut tetapi untuk tahun 2002. Caranya mudah. Kamu tinggal mengganti 2007 dengan 2002 dalam fungsi `filter()` di atas. Alternatifnya, kamu membuat sebuah variabel baru, misalnya `tahun_int`, dan membuat nilainya menjadi 2002. Setelah itu, kamu ganti 2007 dalam fungsi `filter()` di atas dengan variabel tersebut.\n\n\n::: {.cell}\n\n```{.r .cell-code  code-fold=\"false\"}\n# Variabel `tahun_int` dan nilainya sama dengan 2002\ntahun_int <- 2002\n\n# Memvisualisasikan data untuk tahun 2002\ngapminder |> \n  filter(year == tahun_int) |> \n  ggplot(aes(x = gdpPercap, y = lifeExp)) + \n  geom_point()\n```\n\n::: {.cell-output-display}\n![Hubungan antara PDB per kapita dan angka harapan hidup berbagai negara pada tahun 2002](index_files/figure-html/fig-hub-pdb-ahh-2002-1.png){#fig-hub-pdb-ahh-2002 width=672}\n:::\n:::\n\n\nBagaimana jika kamu ingin membuat visualisasi data untuk tahun 1997? Kamu ganti nilai variabel `tahun_int` dengan 1997 dan jalankan baris kodenya. Bagaimana untuk tahun-tahun lainnya? Caranya sama:\n\n1.  kamu ganti nilai varibel `tahun_int` dengan tahun yang kamu mau, dan kemudian\n\n2.  jalankan lagi baris kodenya.\n\nDua langkah tersebut perlu dilakukan agar kamu dapat memvisualisasikan data untuk tahun tertentu. Apakah ada cara yang lebih efisien? Apakah ada cara agar langkah kedua di atas otomatis dijalankan ketika kamu mengganti nilai variabel `tahun_int`? Ada, caranya adalah dengan menggunakan Shiny.\n\nShiny menggunakan pemrograman yang reaktif. Artinya, Shiny akan secara otomatis menjalankan baris perintah untuk menghasilkan luaran ketika nilai inputnya diganti. Dalam kasusmu ini, inputnya adalah nilai variabel `tahun_int` dan luarannya adalah diagram pencar seperti pada @fig-hub-pdb-ahh-2007 atau @fig-hub-pdb-ahh-2002. Dengan demikian, Shiny akan langsung membuat diagram pencar seperti itu ketika nilai variabel `tahun_int` kamu ganti.\n\n## Membuat Aplikasi Shiny {#sec-membuat-app-shiny}\n\nKamu telah mengenal Shiny. Sekarang kita akan membuat aplikasi Shiny berdasarkan proses analisis data yang dipaparkan pada @sec-mengapa-shiny. Karena kita akan menggunakan paket [{shiny}](https://CRAN.R-project.org/package=shiny){.external target=\"_blank\"}, paket tersebut perlu terpasang di komputermu. Jika belum, kamu perlu memasangnya dengan perintah berikut.\n\n``` r\ninstall.packages(\"shiny\")\n```\n\nAku menyarankan agar kamu membuat aplikasi Shiny dengan [RStudio](https://posit.co/download/rstudio-desktop/){.external target=\"_blank\"} agar lebih mudah. Di RStudio, kamu dapat membuat aplikasi Shiny dengan mengklik **File \\| New File \\| Shiny Web App...**. Pada jendela *New Shiny Web Application*, tuliskan nama aplikasinya dan klik **Create**. Setelah itu, kamu akan mendapatkan fail `app.R` yang isinya seperti ini.\n\n``` {.r filename=\"app.R\"}\n#\n# This is a Shiny web application. You can run the application by clicking\n# the 'Run App' button above.\n#\n# Find out more about building applications with Shiny here:\n#\n#    https://shiny.posit.co/\n#\n\nlibrary(shiny)\n\n# Define UI for application that draws a histogram\nui <- fluidPage(\n\n    # Application title\n    titlePanel(\"Old Faithful Geyser Data\"),\n\n    # Sidebar with a slider input for number of bins \n    sidebarLayout(\n        sidebarPanel(\n            sliderInput(\"bins\",\n                        \"Number of bins:\",\n                        min = 1,\n                        max = 50,\n                        value = 30)\n        ),\n\n        # Show a plot of the generated distribution\n        mainPanel(\n           plotOutput(\"distPlot\")\n        )\n    )\n)\n\n# Define server logic required to draw a histogram\nserver <- function(input, output) {\n\n    output$distPlot <- renderPlot({\n        # generate bins based on input$bins from ui.R\n        x    <- faithful[, 2]\n        bins <- seq(min(x), max(x), length.out = input$bins + 1)\n\n        # draw the histogram with the specified number of bins\n        hist(x, breaks = bins, col = 'darkgray', border = 'white',\n             xlab = 'Waiting time to next eruption (in mins)',\n             main = 'Histogram of waiting times')\n    })\n}\n\n# Run the application \nshinyApp(ui = ui, server = server)\n```\n\nBaris kode di atas adalah baris kode yang sudah lengkap untuk sebuah aplikasi. Tetapi, aplikasi tersebut tidak sesuai dengan tujuanmu, yaitu memvisualisasikan hubungan antara PDB per kapita dan angka harapan hidup. Untuk itu, hapus semua baris kode di atas dan ganti dengan baris kode seperti ini.\n\n``` {.r filename=\"app.R\"}\nlibrary(shiny)\nlibrary(tidyverse)\nload(url(\"https://github.com/jennybc/gapminder/raw/main/data/gapminder.rdata\"))\n\nui <- fluidPage(\n  sliderInput(\n    inputId = \"tahun\",\n    label = \"Tahun\",\n    min = 1952,\n    max = 2007,\n    value = 2007,\n    step = 5\n  ),\n  plotOutput(\"diagram_pencar\")\n)\n\nserver <- function(input, output, session) {\n  output$diagram_pencar <- renderPlot({\n    tahun_int <- input$tahun\n    \n    gapminder |> \n      filter(year == tahun_int) |> \n      ggplot(aes(x = gdpPercap, y = lifeExp)) + \n      geom_point()\n    \n  })\n}\n\nshinyApp(ui = ui, server = server)\n```\n\nAplikasi `app.R` tersebut melakukan empat hal sebagai berikut.\n\n1.  Aplikasi tersebut memanggil paket {shiny} dan {tidyverse} melalui perintah `library(shiny)` dan `library(tidyverse)`. Selain itu, aplikasi tersebut juga mengimpor data `gapminder` dengan perintah `load(url(\"https://github.com/jennybc/gapminder/raw/main/data/gapminder.rdata\"))`.\n\n2.  \n",
    "supporting": [
      "index_files"
    ],
    "filters": [
      "rmarkdown/pagebreak.lua"
    ],
    "includes": {},
    "engineDependencies": {},
    "preserve": {},
    "postProcess": true
  }
}